<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_15) on Wed Feb 20 17:50:00 CET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>ImageUtils</title>
<meta name="date" content="2013-02-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ImageUtils";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImageUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../org/tantalum/util/L.html" title="class in org.tantalum.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/tantalum/util/ImageUtils.html" target="_top">Frames</a></li>
<li><a href="ImageUtils.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.tantalum.util</div>
<h2 title="Class ImageUtils" class="title">Class ImageUtils</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.tantalum.util.ImageUtils</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">ImageUtils</span>
extends java.lang.Object</pre>
<div class="block">Only one image processing routine will be active at a time. This is enforced
 by internal synchronization, so image processing is thread safe with minimal
 peak memory usage if you call these routines from multiple threads.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#BASIC_ONE_POINT_PICK">BASIC_ONE_POINT_PICK</a></strong></code>
<div class="block">The fastest scaling algorithm, this pulls one pixel from the source image
 to the destination image, thus decimating the image to make it smaller.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#FIVE_POINT_BLEND">FIVE_POINT_BLEND</a></strong></code>
<div class="block">Although just slightly slower than ONE_POINT_PICK, this algorithm does a
 log more by combing a weighted sampling 5 pixels from the source image to
 generate each resized image pixel.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#ONE_POINT_PICK">ONE_POINT_PICK</a></strong></code>
<div class="block">This is BASIC_ONE_POINT_PICK slightly modified to improve the legibility
 when scaling down to very small sizes.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#WEIGHTED_AVERAGE_OPAQUE">WEIGHTED_AVERAGE_OPAQUE</a></strong></code>
<div class="block">This algorithm combines the relative contributions of all source pixels
 with appropriate weighting.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#WEIGHTED_AVERAGE_TRANSLUCENT">WEIGHTED_AVERAGE_TRANSLUCENT</a></strong></code>
<div class="block">This is the weighted average combination of pixels algorithm including
 alpha channel blending to produce scaled translucent images for layering
 effects.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#ImageUtils()">ImageUtils</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static void</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#drawFlipshade(javax.microedition.lcdui.Graphics, int, int, int[], int[], int, int, int, int, boolean)">drawFlipshade</a></strong>(javax.microedition.lcdui.Graphics&nbsp;g,
             int&nbsp;x,
             int&nbsp;y,
             int[]&nbsp;inputImageARGB,
             int[]&nbsp;outputImageARGB,
             int&nbsp;srcW,
             int&nbsp;srcH,
             int&nbsp;maxW,
             int&nbsp;maxH,
             boolean&nbsp;processAlpha)</code>
<div class="block">Draw an image squeezed along the horizontal and/or vertical dimensions
 (no preservation of aspect ratio) centered at (x, y).</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static javax.microedition.lcdui.Image</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#scaleImage(javax.microedition.lcdui.Image, int, int, int)">scaleImage</a></strong>(javax.microedition.lcdui.Image&nbsp;sourceImage,
          int&nbsp;maxW,
          int&nbsp;maxH,
          int&nbsp;scalingAlgorithm)</code>
<div class="block">Convenience class for scaling images.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static javax.microedition.lcdui.Image</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/util/ImageUtils.html#scaleImage(int[], int[], int, int, int, int, boolean, int)">scaleImage</a></strong>(int[]&nbsp;inputImageARGB,
          int[]&nbsp;outputImageARGB,
          int&nbsp;srcW,
          int&nbsp;srcH,
          int&nbsp;maxW,
          int&nbsp;maxH,
          boolean&nbsp;preserveAspectRatio,
          int&nbsp;scalingAlgorithm)</code>
<div class="block">Return an image which is smaller then the original.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="BASIC_ONE_POINT_PICK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BASIC_ONE_POINT_PICK</h4>
<pre>public static final&nbsp;int BASIC_ONE_POINT_PICK</pre>
<div class="block">The fastest scaling algorithm, this pulls one pixel from the source image
 to the destination image, thus decimating the image to make it smaller.
 You can see visual artifacts such as diagonal lines displaying a
 stair-step effect, and detail is not preserved as the image gets smaller.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.tantalum.util.ImageUtils.BASIC_ONE_POINT_PICK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ONE_POINT_PICK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ONE_POINT_PICK</h4>
<pre>public static final&nbsp;int ONE_POINT_PICK</pre>
<div class="block">This is BASIC_ONE_POINT_PICK slightly modified to improve the legibility
 when scaling down to very small sizes. The image is quickly halfed along
 width and height until that is no longer possible, then ONE_POINT_PICK.
 This is equally fast on larger images, and while slightly slower it
 retains much of the image detail even on extreme down scaling. Because of
 the image halfing which comgines ARGB values of 4 pixels into 1, the
 exact time this takes can vary more than ONE_POINT_PICK</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.tantalum.util.ImageUtils.ONE_POINT_PICK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FIVE_POINT_BLEND">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FIVE_POINT_BLEND</h4>
<pre>public static final&nbsp;int FIVE_POINT_BLEND</pre>
<div class="block">Although just slightly slower than ONE_POINT_PICK, this algorithm does a
 log more by combing a weighted sampling 5 pixels from the source image to
 generate each resized image pixel. The result is usually much more
 detailed without much diagonal line step artifacts. Due to edge effects
 of sampling the source image with 5 pixels in a X, the destination image
 appears at a slightly different zoom than other images, and two
 individually resized images tiled next to one another will not combine
 seamlessly. In such cases, use a weighted average algorithm instead.
 Generally this is very fast- the best performing scaling algorithm for
 general use and a good default choice.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.tantalum.util.ImageUtils.FIVE_POINT_BLEND">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="WEIGHTED_AVERAGE_OPAQUE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>WEIGHTED_AVERAGE_OPAQUE</h4>
<pre>public static final&nbsp;int WEIGHTED_AVERAGE_OPAQUE</pre>
<div class="block">This algorithm combines the relative contributions of all source pixels
 with appropriate weighting. The alpha channel is assumed to be opaque to
 achieve a slight speed increase. This produces the best visual result,
 but takes about 4 times as long as the FIVE_POINT_BLEND</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.tantalum.util.ImageUtils.WEIGHTED_AVERAGE_OPAQUE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="WEIGHTED_AVERAGE_TRANSLUCENT">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>WEIGHTED_AVERAGE_TRANSLUCENT</h4>
<pre>public static final&nbsp;int WEIGHTED_AVERAGE_TRANSLUCENT</pre>
<div class="block">This is the weighted average combination of pixels algorithm including
 alpha channel blending to produce scaled translucent images for layering
 effects. If your source image is opaque (all JPEG images are), or if you
 will not visually blend the image with the background at render time, use
 WEIGHTED_AVERAGE_OPAQUE instead.</div>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.tantalum.util.ImageUtils.WEIGHTED_AVERAGE_TRANSLUCENT">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ImageUtils()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ImageUtils</h4>
<pre>public&nbsp;ImageUtils()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="scaleImage(javax.microedition.lcdui.Image, int, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scaleImage</h4>
<pre>public static&nbsp;javax.microedition.lcdui.Image&nbsp;scaleImage(javax.microedition.lcdui.Image&nbsp;sourceImage,
                                        int&nbsp;maxW,
                                        int&nbsp;maxH,
                                        int&nbsp;scalingAlgorithm)</pre>
<div class="block">Convenience class for scaling images. This handles all the buffer
 management for you. It has higher peak memory usage and not buffer re-use
 which means the garbage collector will run more frequently. So if you
 will scale images in a tight loop, better performance can be achieved if
 you optimise your code and call the buffered scaling methods directly.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sourceImage</code> - </dd><dd><code>maxW</code> - </dd><dd><code>maxH</code> - </dd><dd><code>scalingAlgorithm</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="scaleImage(int[], int[], int, int, int, int, boolean, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scaleImage</h4>
<pre>public static&nbsp;javax.microedition.lcdui.Image&nbsp;scaleImage(int[]&nbsp;inputImageARGB,
                                        int[]&nbsp;outputImageARGB,
                                        int&nbsp;srcW,
                                        int&nbsp;srcH,
                                        int&nbsp;maxW,
                                        int&nbsp;maxH,
                                        boolean&nbsp;preserveAspectRatio,
                                        int&nbsp;scalingAlgorithm)</pre>
<div class="block">Return an image which is smaller then the original.

 The destination size can be defined exactly, or to fit within a bounding
 box with aspect ratio preserved.

 To ensure your application does not use too much memory to scale the
 image at the same time other parts of the program have a peak memory
 usage, use the following calling pattern, modify as appropriate for your
 needs.

 synchronized (Worker.LARGE_MEMORY_MUTEX) {

 int[] data = new int[w * h];

 image.getRGB(data, 0, w, 0, 0, w, h);

 image = null;

 image = ImageUtils.downscaleImage(data, w, h, maxW, maxH, true, false,
 false);

 data = null;

 }</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>inputImageARGB</code> - - ARGB data for the original image</dd><dd><code>outputImageARGB</code> - - ARGB data buffer for the scaled image, can be
 the same as inputImageARGB if downscaling (faster)</dd><dd><code>srcW</code> - - Source data row width</dd><dd><code>srcH</code> - - Source data column height</dd><dd><code>maxW</code> - - maximum bounding width of scaled image</dd><dd><code>maxH</code> - - maximum bounding size of scaled image</dd><dd><code>preserveAspectRatio</code> - - set true except for special effects</dd><dd><code>scalingAlgorithm</code> - - a constant from ImageUtils specifying how to
 scale</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="drawFlipshade(javax.microedition.lcdui.Graphics, int, int, int[], int[], int, int, int, int, boolean)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>drawFlipshade</h4>
<pre>public static&nbsp;void&nbsp;drawFlipshade(javax.microedition.lcdui.Graphics&nbsp;g,
                 int&nbsp;x,
                 int&nbsp;y,
                 int[]&nbsp;inputImageARGB,
                 int[]&nbsp;outputImageARGB,
                 int&nbsp;srcW,
                 int&nbsp;srcH,
                 int&nbsp;maxW,
                 int&nbsp;maxH,
                 boolean&nbsp;processAlpha)</pre>
<div class="block">Draw an image squeezed along the horizontal and/or vertical dimensions
 (no preservation of aspect ratio) centered at (x, y).</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>g</code> - - object to draw onto</dd><dd><code>x</code> - - horizontal center of where to draw the resulting image</dd><dd><code>y</code> - - vertical center of where to draw the resulting image</dd><dd><code>inputImageARGB</code> - </dd><dd><code>outputImageARGB</code> - - often this is the same as inputImageARGB for
 speed</dd><dd><code>srcW</code> - - source image width</dd><dd><code>srcH</code> - - source image height</dd><dd><code>maxW</code> - - target width</dd><dd><code>maxH</code> - - target height</dd><dd><code>processAlpha</code> - - set false for speed if the image is opaque</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/ImageUtils.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../org/tantalum/util/L.html" title="class in org.tantalum.util"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/tantalum/util/ImageUtils.html" target="_top">Frames</a></li>
<li><a href="ImageUtils.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
