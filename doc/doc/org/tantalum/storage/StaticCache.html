<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_17) on Mon Mar 25 14:20:49 CET 2013 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>StaticCache</title>
<meta name="date" content="2013-03-25">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="StaticCache";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StaticCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/tantalum/storage/ImageTypeHandler.html" title="class in org.tantalum.storage"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/tantalum/storage/StaticCache.GetLocalTask.html" title="class in org.tantalum.storage"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/tantalum/storage/StaticCache.html" target="_top">Frames</a></li>
<li><a href="StaticCache.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.tantalum.storage</div>
<h2 title="Class StaticCache" class="title">Class StaticCache</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.tantalum.storage.StaticCache</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../org/tantalum/net/StaticWebCache.html" title="class in org.tantalum.net">StaticWebCache</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">StaticCache</span>
extends java.lang.Object</pre>
<div class="block">A ramCache which returns Objects based on a String key asynchronously from
 RAM, RMS, or network and synchronously from RAM and RMS.

 Objects in RAM are kept with WeakReferences so they may be garbage collected.

 Objects in flash memory are managed in a "least recently accessed" form to
 garbage collect and make space when persistent storage runs low.

 Each StaticCache uses a single RMS and may be referred to by name.

 You may provide alternative MODEs to change the default characteristics of a
 given StaticCache.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.GetLocalTask.html" title="class in org.tantalum.storage">StaticCache.GetLocalTask</a></strong></code>
<div class="block">A helper class to get data asynchronously from the local ramCache without
 attempting to get data from the web.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../org/tantalum/util/LRUVector.html" title="class in org.tantalum.util">LRUVector</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#accessOrder">accessOrder</a></strong></code>
<div class="block">The order in which object in the ramCache have been accessed since the
 program started.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="../../../org/tantalum/util/SortedVector.html" title="class in org.tantalum.util">SortedVector</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#caches">caches</a></strong></code>
<div class="block">A list of all caches, sorted by priority order (lowest char first)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#handler">handler</a></strong></code>
<div class="block">This interface gives one method you must provide to convert from the raw
 byte[] format received from a web server or similar source into an Object
 format such as Image or your own data model.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#MUTEX">MUTEX</a></strong></code>
<div class="block">All synchronization is not on "this", but on the hidden MUTEX Object to
 encapsulate synch and disallow the bad practice of externally
 synchronizing on the ramCache object itself.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected char</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#priority">priority</a></strong></code>
<div class="block">This character serves as a market tag to distinguish the contents of this
 ramCache from other caches which may also be stored in flash memory in a
 flat name space.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="../../../org/tantalum/util/WeakHashCache.html" title="class in org.tantalum.util">WeakHashCache</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#ramCache">ramCache</a></strong></code>
<div class="block">A heap memory ramCache in the form of a Hashtable from which data can be
 removed automatically by the virtual machine to free up memory (automatic
 memory management).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#sizeAsBytes">sizeAsBytes</a></strong></code>
<div class="block">Total size of the ramCache as it exists in flash memory.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected </code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#StaticCache(char, org.tantalum.storage.DataTypeHandler)">StaticCache</a></strong>(char&nbsp;priority,
           <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;handler)</code>
<div class="block">Create a named Cache</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#clearAsync(org.tantalum.Task)">clearAsync</a></strong>(<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;chainedTask)</code>
<div class="block">Remove all elements from this ramCache</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#clearHeapCacheAsync(org.tantalum.Task)">clearHeapCacheAsync</a></strong>(<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;chainedTask)</code>
<div class="block">Note that if the conversion in the DataTypeHandler changes due to
 application logic requirements, you can at any time use this to force
 as-needed re-conversion.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#containsKey(java.lang.String)">containsKey</a></strong>(java.lang.String&nbsp;key)</code>
<div class="block">Does this ramCache contain an object matching the key?</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#convertAndPutToHeapCache(java.lang.String, byte[])">convertAndPutToHeapCache</a></strong>(java.lang.String&nbsp;key,
                        byte[]&nbsp;bytes)</code>
<div class="block">Synchronously put the hash object to the RAM ramCache.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#equals(char, org.tantalum.storage.DataTypeHandler, java.lang.Object)">equals</a></strong>(char&nbsp;priority,
      <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;handler,
      java.lang.Object&nbsp;taskFactory)</code>
<div class="block">Analyze if this cache is the same one that would be returned by a call to
 StaticCache.getCache() with the same parameters</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#getAsync(java.lang.String, int, org.tantalum.Task)">getAsync</a></strong>(java.lang.String&nbsp;key,
        int&nbsp;priority,
        <a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;chainedTask)</code>
<div class="block">Retrieve an object from RAM or RMS storage.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../org/tantalum/storage/StaticCache.html" title="class in org.tantalum.storage">StaticCache</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#getCache(char, org.tantalum.storage.DataTypeHandler)">getCache</a></strong>(char&nbsp;priority,
        <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;handler)</code>
<div class="block">Get a named Cache

 Caches with higher priority are more likely to keep their data when space
 is limited.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected static <a href="../../../org/tantalum/storage/StaticCache.html" title="class in org.tantalum.storage">StaticCache</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#getExistingCache(char, org.tantalum.storage.DataTypeHandler, java.lang.Object, java.lang.Class)">getExistingCache</a></strong>(char&nbsp;priority,
                <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;handler,
                java.lang.Object&nbsp;taskFactory,
                java.lang.Class&nbsp;clas)</code>
<div class="block">Get the previously-created cache with the same parameters</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#getHandler()">getHandler</a></strong>()</code>
<div class="block">Provide the handler which this caches uses for converting between
 in-memory and binary formats</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#getKeysAsync(org.tantalum.Task)">getKeysAsync</a></strong>(<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;chainedTask)</code>
<div class="block">Get a Vector of all keys for key-value pairs currently in the local
 ramCache at the flash memory level.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#getPriority()">getPriority</a></strong>()</code>
<div class="block">The relative priority used for allocating RMS space between multiple
 caches.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#getSize()">getSize</a></strong>()</code>
<div class="block">The number of items in the ramCache</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#putAsync(java.lang.String, byte[])">putAsync</a></strong>(java.lang.String&nbsp;key,
        byte[]&nbsp;bytes)</code>
<div class="block">Store a value to heap and flash memory.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#remove(java.lang.String)">remove</a></strong>(java.lang.String&nbsp;key)</code>
<div class="block">Note that delete is synchronous, so while this operation does not take
 long, other operations using the RMS may cause a slight stagger or pause
 before this operation can complete.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#setFlashCacheEnabled(boolean)">setFlashCacheEnabled</a></strong>(boolean&nbsp;enabled)</code>
<div class="block">Turn off persistent local storage use for read and write to see what
 happens to the application performance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#synchronousGet(java.lang.String)">synchronousGet</a></strong>(java.lang.String&nbsp;key)</code>
<div class="block">Get the value from local RAM or Flash ramCache memory.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#synchronousRAMCacheGet(java.lang.String)">synchronousRAMCacheGet</a></strong>(java.lang.String&nbsp;key)</code>
<div class="block">Synchronously return the hash object</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/tantalum/storage/StaticCache.html#toString()">toString</a></strong>()</code>
<div class="block">For debugging use</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="caches">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>caches</h4>
<pre>protected static final&nbsp;<a href="../../../org/tantalum/util/SortedVector.html" title="class in org.tantalum.util">SortedVector</a> caches</pre>
<div class="block">A list of all caches, sorted by priority order (lowest char first)</div>
</li>
</ul>
<a name="ramCache">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ramCache</h4>
<pre>protected final&nbsp;<a href="../../../org/tantalum/util/WeakHashCache.html" title="class in org.tantalum.util">WeakHashCache</a> ramCache</pre>
<div class="block">A heap memory ramCache in the form of a Hashtable from which data can be
 removed automatically by the virtual machine to free up memory (automatic
 memory management).</div>
</li>
</ul>
<a name="accessOrder">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>accessOrder</h4>
<pre>protected final&nbsp;<a href="../../../org/tantalum/util/LRUVector.html" title="class in org.tantalum.util">LRUVector</a> accessOrder</pre>
<div class="block">The order in which object in the ramCache have been accessed since the
 program started. Each time an object is accessed, it moves to the
 beginning of the last. Least recently used objects are the ones most
 likely to be cleared when additional flash memory is needed. The heap
 memory WeakReferenceCache does not make use of this access order.</div>
</li>
</ul>
<a name="priority">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>priority</h4>
<pre>protected final&nbsp;char priority</pre>
<div class="block">This character serves as a market tag to distinguish the contents of this
 ramCache from other caches which may also be stored in flash memory in a
 flat name space. This must be unique like '0'..'9' or 'a'..'z'. Larger
 character values indicate lower priority caches which will be garage
 collected first when flash memory is low, so use larger characters for
 more transient or less-important-to-persist data.</div>
</li>
</ul>
<a name="handler">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handler</h4>
<pre>protected final&nbsp;<a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a> handler</pre>
<div class="block">This interface gives one method you must provide to convert from the raw
 byte[] format received from a web server or similar source into an Object
 format such as Image or your own data model. This is usually a parser of
 some kind. It will be run both when data first arrives over the network,
 and again any time the data is loaded from flash memory. Since the heap
 memory ramCache uses WeakReference, values may be loaded from flash
 memory several times. This conversion method should therefore be
 stateless and thread safe so it can be run on several threads and
 possibly multiple cores at the same time.</div>
</li>
</ul>
<a name="sizeAsBytes">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sizeAsBytes</h4>
<pre>protected&nbsp;int sizeAsBytes</pre>
<div class="block">Total size of the ramCache as it exists in flash memory. This is often
 larger than the current heap ramCache memory consumption.</div>
</li>
</ul>
<a name="MUTEX">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>MUTEX</h4>
<pre>protected final&nbsp;java.lang.Object MUTEX</pre>
<div class="block">All synchronization is not on "this", but on the hidden MUTEX Object to
 encapsulate synch and disallow the bad practice of externally
 synchronizing on the ramCache object itself.</div>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="StaticCache(char, org.tantalum.storage.DataTypeHandler)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>StaticCache</h4>
<pre>protected&nbsp;StaticCache(char&nbsp;priority,
           <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;handler)</pre>
<div class="block">Create a named Cache</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>priority</code> - </dd><dd><code>handler</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getExistingCache(char, org.tantalum.storage.DataTypeHandler, java.lang.Object, java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getExistingCache</h4>
<pre>protected static&nbsp;<a href="../../../org/tantalum/storage/StaticCache.html" title="class in org.tantalum.storage">StaticCache</a>&nbsp;getExistingCache(char&nbsp;priority,
                           <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;handler,
                           java.lang.Object&nbsp;taskFactory,
                           java.lang.Class&nbsp;clas)</pre>
<div class="block">Get the previously-created cache with the same parameters</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>priority</code> - </dd><dd><code>handler</code> - </dd><dd><code>taskFactory</code> - </dd><dd><code>clas</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getCache(char, org.tantalum.storage.DataTypeHandler)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCache</h4>
<pre>public static&nbsp;<a href="../../../org/tantalum/storage/StaticCache.html" title="class in org.tantalum.storage">StaticCache</a>&nbsp;getCache(char&nbsp;priority,
                   <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;handler)</pre>
<div class="block">Get a named Cache

 Caches with higher priority are more likely to keep their data when space
 is limited.

 You will get IllegalArgumentException if you call this multiple times for
 the same cache priority but with a different (not .equals())
 DataTypeHandler.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>priority</code> - - a character from '0' to '9', higher numbers get a
 preference for space. Letters are also allowed.</dd><dd><code>handler</code> - - a routine to convert from byte[] to Object form when
 loading into the RAM ramCache.</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="setFlashCacheEnabled(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFlashCacheEnabled</h4>
<pre>public&nbsp;void&nbsp;setFlashCacheEnabled(boolean&nbsp;enabled)</pre>
<div class="block">Turn off persistent local storage use for read and write to see what
 happens to the application performance. This is most useful for
 StaticWebCache but may be useful in other test cases.

 The default is enabled</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>enabled</code> - </dd></dl>
</li>
</ul>
<a name="convertAndPutToHeapCache(java.lang.String, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>convertAndPutToHeapCache</h4>
<pre>protected&nbsp;java.lang.Object&nbsp;convertAndPutToHeapCache(java.lang.String&nbsp;key,
                                        byte[]&nbsp;bytes)</pre>
<div class="block">Synchronously put the hash object to the RAM ramCache.

 If you also want the object stored in RMS, call put()</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - </dd><dd><code>bytes</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="synchronousRAMCacheGet(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>synchronousRAMCacheGet</h4>
<pre>public&nbsp;java.lang.Object&nbsp;synchronousRAMCacheGet(java.lang.String&nbsp;key)</pre>
<div class="block">Synchronously return the hash object</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getAsync(java.lang.String, int, org.tantalum.Task)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAsync</h4>
<pre>public&nbsp;<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;getAsync(java.lang.String&nbsp;key,
            int&nbsp;priority,
            <a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;chainedTask)</pre>
<div class="block">Retrieve an object from RAM or RMS storage.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - </dd><dd><code>priority</code> - - default is Work.NORMAL_PRIORITY set to
 Work.HIGH_PRIORITY if you want the results quickly to update the UI.</dd><dd><code>chainedTask</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="synchronousGet(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>synchronousGet</h4>
<pre>protected&nbsp;java.lang.Object&nbsp;synchronousGet(java.lang.String&nbsp;key)
                                   throws <a href="../../../org/tantalum/storage/FlashDatabaseException.html" title="class in org.tantalum.storage">FlashDatabaseException</a></pre>
<div class="block">Get the value from local RAM or Flash ramCache memory. null is returned
 if the value is not available locally.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/tantalum/storage/FlashDatabaseException.html" title="class in org.tantalum.storage">FlashDatabaseException</a></code></dd></dl>
</li>
</ul>
<a name="putAsync(java.lang.String, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putAsync</h4>
<pre>public&nbsp;java.lang.Object&nbsp;putAsync(java.lang.String&nbsp;key,
                        byte[]&nbsp;bytes)</pre>
<div class="block">Store a value to heap and flash memory.

 Note that the storage to RMS is done asynchronously in the background
 which may lead to large binary objects being queued up on the Worker
 thread. If you do this many times, you could run short on memory, and
 should re-factor with use of synchronousPutToRMS() instead.

 Note that conversion to use form happens immediately and synchronously on
 the calling thread before before this method returns. If conversion may
 take a long time (XML parsing, etc) then consider not calling this from
 the user event dispatch thread.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - </dd><dd><code>bytes</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd>the byte[] converted to use form by the ramCache's Handler</dd></dl>
</li>
</ul>
<a name="remove(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>protected&nbsp;void&nbsp;remove(java.lang.String&nbsp;key)</pre>
<div class="block">Note that delete is synchronous, so while this operation does not take
 long, other operations using the RMS may cause a slight stagger or pause
 before this operation can complete.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - </dd></dl>
</li>
</ul>
<a name="clearAsync(org.tantalum.Task)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearAsync</h4>
<pre>public&nbsp;<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;clearAsync(<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;chainedTask)</pre>
<div class="block">Remove all elements from this ramCache</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>chainedTask</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="clearHeapCacheAsync(org.tantalum.Task)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearHeapCacheAsync</h4>
<pre>public&nbsp;<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;clearHeapCacheAsync(<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;chainedTask)</pre>
<div class="block">Note that if the conversion in the DataTypeHandler changes due to
 application logic requirements, you can at any time use this to force
 as-needed re-conversion. This affects queued conversions but does not
 affect conversions already in progress. Therefore you may want to chain()
 to the Task returned and continue your code after this clear completes
 after other queued tasks.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>chainedTask</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="containsKey(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>containsKey</h4>
<pre>public&nbsp;boolean&nbsp;containsKey(java.lang.String&nbsp;key)</pre>
<div class="block">Does this ramCache contain an object matching the key?</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSize</h4>
<pre>public&nbsp;int&nbsp;getSize()</pre>
<div class="block">The number of items in the ramCache</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getPriority()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPriority</h4>
<pre>public&nbsp;int&nbsp;getPriority()</pre>
<div class="block">The relative priority used for allocating RMS space between multiple
 caches. Higher priority caches synchronousRAMCacheGet more space.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getHandler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getHandler</h4>
<pre>public&nbsp;<a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;getHandler()</pre>
<div class="block">Provide the handler which this caches uses for converting between
 in-memory and binary formats</div>
<dl><dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getKeysAsync(org.tantalum.Task)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeysAsync</h4>
<pre>public&nbsp;<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;getKeysAsync(<a href="../../../org/tantalum/Task.html" title="class in org.tantalum">Task</a>&nbsp;chainedTask)</pre>
<div class="block">Get a Vector of all keys for key-value pairs currently in the local
 ramCache at the flash memory level. The value may or may not be in heap
 memory at the current time.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>chainedTask</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="toString()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">For debugging use</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="equals(char, org.tantalum.storage.DataTypeHandler, java.lang.Object)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>equals</h4>
<pre>protected&nbsp;boolean&nbsp;equals(char&nbsp;priority,
             <a href="../../../org/tantalum/storage/DataTypeHandler.html" title="interface in org.tantalum.storage">DataTypeHandler</a>&nbsp;handler,
             java.lang.Object&nbsp;taskFactory)</pre>
<div class="block">Analyze if this cache is the same one that would be returned by a call to
 StaticCache.getCache() with the same parameters</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>priority</code> - </dd><dd><code>handler</code> - </dd><dd><code>taskFactory</code> - - always null. The parameter exists for polymorphic
 equivalency with the overriding StaticWebCache implementation.</dd>
<dt><span class="strong">Returns:</span></dt><dd></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/StaticCache.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../org/tantalum/storage/ImageTypeHandler.html" title="class in org.tantalum.storage"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../org/tantalum/storage/StaticCache.GetLocalTask.html" title="class in org.tantalum.storage"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/tantalum/storage/StaticCache.html" target="_top">Frames</a></li>
<li><a href="StaticCache.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
